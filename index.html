<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TNEC Web</title>
    <link rel="stylesheet" href="styles1.css">
</head>
<body>

    <!-- Floating Header Section -->
    <div id="header-wrapper">
        <div id="header" class="container">
            <div id="logo">
                <img src="tnec.png" width="170px" alt="Logo">
            </div>
            <div id="menu">
                <ul>
                    <li class="current_page_item"><a href="#" accesskey="1" title="">Homepage</a></li>
                    <li><a href="#checkoutsection" accesskey="2" title="">Check out</a></li>
                    <li><a href="checkin.html" accesskey="3" title="">Check in</a></li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Content Above the Form -->
    <div class="fullscreen">
        <div class="content">
            <h2>Welcome to TNEC Car Reservation</h2><br>
            <p>At <b>TNEC (TNB Engineering Corporation Sdn. Bhd.)</b>, we offer a hassle-free car reservation service designed to meet the transportation needs of our corporate clients. Whether you need vehicles for site visits, business trips, or daily operations. Our easy-to-use online platform allows you to choose from a wide selection of well-maintained vehicles and select your preferred rental duration.</p>
            <p>Please fill out the form below to rent a vehicle. Ensure all fields are completed accurately.</p>

            <div class="car-container">
                <div class="car-card">
                    <img src="proton-persona.png" alt="Proton Persona">
                    <h3>Proton Persona</h3>
                    <p>Sedan • 5 Seater</p>
                    <button class="select-button" onclick="window.location.href='#checkoutsection';">Available</button>
                </div>
        
                <div class="car-card">
                    <img src="honda-accord.png" alt="Honda Accord">
                    <h3>Honda Accord</h3>
                    <p>Sedan • 5 Seater</p>
                    <button class="select-button" onclick="window.location.href='#checkoutsection';">Available</button>
                </div>
            </div>
        </div>

        <!-- Rent Form Section -->
        <h2 id="checkoutsection">Reservation Check Out Form</h2><br>
        <div class="form-container">
            <div class="box">
                <form id="rentForm" onsubmit="submitForm()" action="https://script.google.com/macros/s/AKfycbznK3aqWD2DQwHeQu3SRu7065UqgOH2IgYCBalO1UePGBCGZGL3hEyH4Jo50PBnG_dl/exec" method="post">
                    <input type="hidden" name="formType" value="checkout">
                
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" placeholder="John Doe" pattern="[A-Z\sa-z]{3,20}" required>
                
                    <label for="room-selection">Department</label>
                    <select class="square" id="room-selection" name="Department" required>
                        <option value="">Choose a Department</option>
                        <option value="admin">Admin</option>
                        <option value="hr">HR</option>
                        <option value="it">IT</option>
                    </select>
                
                    <label for="cars">Select Car</label>
                    <ul class="car-options">
                        <li>
                            <input type="radio" name="car" id="wra138" value="WRA 138" required />
                            <label for="wra138" class="car-button">
                                <img src="accord.png" alt="WRA 138 (Honda Accord)" />
                                <span>WRA 138 (Honda Accord)</span>
                            </label>
                        </li>
                        <li>
                            <input type="radio" name="car" id="wb4052v" value="WB 4052 V" required />
                            <label for="wb4052v" class="car-button">
                                <img src="persona.png" alt="WB 4052 V (Persona)" />
                                <span>WB 4052 V (Persona)</span>
                            </label>
                        </li>
                    </ul>
                
                    <label for="checkout-date">Check-out Date</label>
                    <input type="date" id="checkout-date" name="checkoutDate" required>
                
                    <label for="timeout">Time</label>
                    <input type="time" id="timeout" name="time_out" required>
                
                    <label for="loc">Location</label>
                    <input type="text" id="loc" name="Location" placeholder="POS" pattern="[A-Z\sa-z]{3,20}" required>
                
                    <label for="urusan">Business</label>
                    <input type="text" id="urusan" name="urusan" pattern="[A-Z\sa-z]{3,50}" required>
                
                    <button type="submit">Submit</button>
                </form>            
            </div>
        </div>
    </div>

    <script>
        function submitForm() {
          const form = document.getElementById('rentForm');
          form.onsubmit = async function (e) {
            e.preventDefault();  // Prevent the default form submission
            const formData = new FormData(form);  // Create form data
      
            try {
              const response = await fetch(form.action, {
                method: 'POST',
                body: formData
              });
              const result = await response.text();  // Get the response as text
              if (result === 'success') {
                alert('Data has been successfully saved');
                window.location.href = 'index.html';  // Redirect to index.html page
              } else {
                alert('An error occurred: ' + result);
              }
            } catch (error) {
              console.error('Error!', error.message);
            }
          };
        }
      
        window.onload = submitForm;  // Ensure the function is attached when the page loads
      </script>
      


    <!-- Footer -->
    <footer>
        <p>© 2024 Tenaga Nasional Engineering Corporation  |  Malaysia</p>
    </footer>
</body>
</html>
